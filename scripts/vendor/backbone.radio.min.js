// Backbone.Radio v0.6.0

!function(a,b){if("function"==typeof define&&define.amd)define(["backbone","underscore"],function(a,c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");module.exports=b(c,d)}else b(a.Backbone,a._)}(this,function(a,b){"use strict";function c(a,b,c){if(i.DEBUG){var d=c?" on the "+c+" channel":"";console.warn(a+d+': "'+b+'"')}}function d(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}return!0}function e(a){return j[a]||(j[a]=b.partial(i.log,a))}function f(a){return b.isFunction(a)?a:b.constant(a)}var g=Array.prototype.slice,h=a.Radio,i=a.Radio={};i.VERSION="0.6.0",i.noConflict=function(){return a.Radio=h,this},i.DEBUG=!1;var j={};b.extend(i,{log:function(a,b){var c=g.call(arguments,2);console.log("["+a+'] "'+b+'"',c)},tuneIn:function(a){var b=i.channel(a);return b._tunedIn=!0,b.on("all",e(a)),this},tuneOut:function(a){var b=i.channel(a);return b._tunedIn=!1,b.off("all",e(a)),delete j[a],this}}),i.Commands={command:function(a){var b=g.call(arguments,1);if(!d(this,"command",a,b))return this;var e=this.channelName,f=this._commands;if(e&&this._tunedIn&&i.log.apply(this,[e,a].concat(b)),f&&(f[a]||f["default"])){var h=f[a]||f["default"];b=f[a]?b:arguments,h.callback.apply(h.context,b)}else c("An unhandled command was fired",a,e);return this},comply:function(a,b,c){return d(this,"comply",a,[b,c])?(this._commands||(this._commands={}),this._commands[a]={callback:b,context:c||this},this):this},complyOnce:function(a,c,e){if(!d(this,"complyOnce",a,[c,e]))return this;var f=this,g=b.once(function(){return f.stopComplying(a),c.apply(this,arguments)});return this.comply(a,g,e)},stopComplying:function(a){if(!d(this,"stopComplying",a))return this;var b=this._commands;return a?b&&b[a]?delete b[a]:c("Attempted to remove the unregistered command",a,this.channelName):delete this._commands,this}},i.Requests={request:function(a){var b=g.call(arguments,1),d=this.channelName,e=this._requests;if(d&&this._tunedIn&&i.log.apply(this,[d,a].concat(b)),e&&(e[a]||e["default"])){var f=e[a]||e["default"];return b=e[a]?b:arguments,f.callback.apply(f.context,b)}c("An unhandled request was fired",a,d)},reply:function(a,b,c){return d(this,"reply",a,[b,c])?(this._requests||(this._requests={}),this._requests[a]={callback:f(b),context:c||this},this):this},replyOnce:function(a,c,e){if(!d(this,"replyOnce",a,[c,e]))return this;var g=this,h=b.once(function(){return g.stopReplying(a),f(c).apply(this,arguments)});return this.reply(a,h,e)},stopReplying:function(a){if(!d(this,"stopReplying",a))return this;var b=this._requests;return a?b&&b[a]?delete b[a]:c("Attempted to remove the unregistered request",a,this.channelName):delete this._requests,this}},i._channels={},i.channel=function(a){if(!a)throw new Error("You must provide a name for the channel.");return i._channels[a]||new i.Channel(a)},i.Channel=function(a){this.channelName=a,i._channels[a]=this},b.extend(i.Channel.prototype,a.Events,i.Commands,i.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopComplying(),this.stopReplying(),this}});var k,l,m=[a.Events,i.Commands,i.Requests];return b.each(m,function(a){b.each(a,function(a,b){i[b]=function(a){return l=g.call(arguments,1),k=this.channel(a),k[b].apply(k,l)}})}),i});
//# sourceMappingURL=backbone.radio.min.map